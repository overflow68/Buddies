(this.webpackJsonpbuddies=this.webpackJsonpbuddies||[]).push([[0],{39:function(e,t,c){},41:function(e,t,c){},43:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var s=c(10),n=c.n(s),a=c(31),r=c.n(a),i=c(11),o=(c(39),c(0)),j=c.n(o),b=c(2),u=(c(41),c(32)),d=c(18),l=c(19),O=Object(u.a)({apiKey:"AIzaSyDX2y3yFsh7HTTnzHG_BKt2LkOJ1BiuIxk",authDomain:"buddies-be2bb.firebaseapp.com",projectId:"buddies-be2bb",storageBucket:"buddies-be2bb.appspot.com",messagingSenderId:"779455827700",appId:"1:779455827700:web:c6e2afac1e076d582618a1"}),h=Object(d.c)(O),m=Object(l.c)(O),v=(c(43),c(9));var p=function(){return Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"signout",onClick:function(){return h.signOut()},children:"Sign Out"})})};c(45);var f=function(e){var t=e.scroll,c=Object(s.useState)(""),n=Object(i.a)(c,2),a=n[0],r=n[1];function o(){return(o=Object(b.a)(j.a.mark((function e(c){var s,n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a||"Enter"!==c.key){e.next=7;break}return c.preventDefault(),s=h.currentUser,n=s.uid,i=s.photoURL,e.next=5,Object(l.a)(Object(l.b)(m,"messages"),{message:a,id:n,photoURL:i,createdAt:Object(l.h)()});case 5:e.sent,r("");case 7:t.current.scrollIntoView({behavior:"smooth"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsx)("div",{className:"send-message",children:Object(v.jsx)("div",{className:"input-style",children:Object(v.jsx)("input",{placeholder:"Type something...",value:a,onKeyPress:function(e){return o.apply(this,arguments)},onChange:function(e){return r(e.target.value)}})})})};var x=function(e){return Object(v.jsx)("div",{className:e.class,children:"msg sent"!==e.class?Object(v.jsxs)("div",{className:"cont-received",children:[Object(v.jsx)("img",{className:"img",src:e.img,alt:""}),Object(v.jsx)("div",{className:"received-text",children:Object(v.jsx)("p",{children:e.msg})})]}):Object(v.jsxs)("div",{className:"cont-sent",children:[Object(v.jsx)("div",{className:"sent-text",children:Object(v.jsx)("p",{children:e.msg})}),Object(v.jsx)("img",{className:"img",src:e.img,alt:""})]},e.id)})};var g=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(s.useRef)();function r(){return(r=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(l.g)(Object(l.b)(m,"messages"),Object(l.f)("createdAt","desc"),Object(l.d)(50)),Object(l.e)(t,(function(e){var t=[];a.current.scrollIntoView({behavior:"smooth"}),e.forEach((function(e){t.push(e.data())})),t.reverse(),n(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){r.apply(this,arguments)}(),a.current.scrollIntoView({behavior:"smooth"})}),[]),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"chat-cont",children:[Object(v.jsx)("div",{className:"signout-btn-cont",children:Object(v.jsx)(p,{})}),Object(v.jsxs)("div",{className:"chat",children:[c.map((function(e){var t=e.id,c=e.message,s=e.photoURL;return Object(v.jsx)(x,{class:"msg ".concat(t===h.currentUser.uid?"sent":"received"),img:s,msg:c})})),Object(v.jsx)("div",{ref:a}),console.log(a)]}),Object(v.jsx)(f,{scroll:a})]})})})},N=c(34);var k=function(){return Object(v.jsxs)("div",{className:"signin",children:[Object(v.jsx)("p",{className:"info",children:"SIGN IN TO ACCESS CHAT"}),Object(v.jsx)("div",{children:Object(v.jsx)(N.a,{className:"locker",size:"300",color:"rgb(180, 89, 89)"})}),Object(v.jsx)("button",{className:"signin-btn",onClick:function(){var e=new d.a,t=Object(d.c)();Object(d.g)(t,e).then((function(e){d.a.credentialFromResult(e).accessToken,e.user})).catch((function(e){e.code,e.message,e.email,d.a.credentialFromError(e)}))},children:"Sign in with Google"})]})},y=c(33);var w=function(){var e=Object(y.a)(h),t=Object(i.a)(e,1)[0];return Object(v.jsx)("div",{className:"App",children:t?Object(v.jsx)(g,{}):Object(v.jsx)(k,{})})};r.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.3817f89f.chunk.js.map